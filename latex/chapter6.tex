\chapter{Conclusions and Future Work}
\label{chapter:conclusions}

This final chapter aims to provide an overview of the developed solution. As it was referred in chapter \ref{chapter:implementation} and later validated in chapter \ref{chapter:evaluation_and_results}, the proposed solution fulfilled all the projected requirements and objectives. 

Nevertheless, during the development of this solution some issues were found. First, the looking at the scenarios presented in chapter \ref{chapter:architecture}, the idea was to, regardless the state of the system, Gateways being able to recover from failures, and for that reason, the Gateway Manager was developed. However, since this component is dependent on the \ac{mqtt} Broker, and it can fail itself, there are some specific cases where the handling of a gateway failure is not assured. The solution for this issue would have been possible if gateways could identify that other gateway had failed and, by communication with each other, elect a new gateway to take over the control for the lost devices and rules. Also, the Gateway Manager did not need to synchronize the information, between gateways, concerning to where each gateway must send its device events in case of a failure in the \ac{mqtt} Broker. A service discover application like Avahi, could be used for each gateway broadcast the devices and rules they control, and this information could be accessible by any other gateway. An approach like this one could resolve the Gateway Manager dependence, being this component used only to distribute devices, rules and provide a platform to control gateways. It would be interesting for the project, to test this approach in a future work. Also, persistence measures should be implemented in both gateways and in Gateway Manager component, so that after a failure, the process of recover from it could be faster.

Another feature left for future work was the User Management platform that, although it was not in the scope for this dissertation, would be interesting for SmartLighting project's purpose.

Regarding security aspects, although its undeniable importance, were not considered in the implementation. This should also be addressed in a future work, by, for instance, encrypt the payload of \ac{mqtt} messages and user authentication to the Building Management platform.
